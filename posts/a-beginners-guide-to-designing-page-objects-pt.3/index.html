<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="map[name:Edirin Atumah]"><meta name=description content="Introduction In the last post, we applied design techniques to refactor the test class and the underlying code design.
Read it here
In this final guide, we will look at how to refactor a page object in response to changes from the business.
When you finish reading, you will be able to create effective page objects for any UI interface you encounter using design principles.
Prerequisites Before you begin this guide you&amp;rsquo;ll need the following:   Read Part Two"><meta name=keywords content="Test Automation,Selenium,BDD,Cucumber,Test Framework,selenium,automation"><meta name=robots content="noodp"><meta name=theme-color content="#252627"><link rel=canonical href=https://bongosway.github.io/posts/a-beginners-guide-to-designing-page-objects-pt.3/><title>A Beginner's Guide to Designing Page Objects - Pt.3 :: Thought before Tools</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/main.50cff2563f52b2f25b21b53ba23f7ec17630166f7f4cf0931a9ffa7ca6de8574.css><link rel=stylesheet type=text/css href=/css/all.min.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#252627><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content="#252627"><meta name=theme-color content="#252627"><meta itemprop=name content="A Beginner's Guide to Designing Page Objects - Pt.3"><meta itemprop=description content="Introduction In the last post, we applied design techniques to refactor the test class and the underlying code design.
Read it here
In this final guide, we will look at how to refactor a page object in response to changes from the business.
When you finish reading, you will be able to create effective page objects for any UI interface you encounter using design principles.
Prerequisites Before you begin this guide you&rsquo;ll need the following:   Read Part Two"><meta itemprop=datePublished content="2021-01-18T00:00:00+00:00"><meta itemprop=dateModified content="2021-01-18T00:00:00+00:00"><meta itemprop=wordCount content="610"><meta itemprop=image content="https://bongosway.github.io/"><meta itemprop=keywords content="selenium, automation,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://bongosway.github.io/"><meta name=twitter:title content="A Beginner's Guide to Designing Page Objects - Pt.3"><meta name=twitter:description content="Introduction In the last post, we applied design techniques to refactor the test class and the underlying code design.
Read it here
In this final guide, we will look at how to refactor a page object in response to changes from the business.
When you finish reading, you will be able to create effective page objects for any UI interface you encounter using design principles.
Prerequisites Before you begin this guide you&rsquo;ll need the following:   Read Part Two"><meta property="og:title" content="A Beginner's Guide to Designing Page Objects - Pt.3"><meta property="og:description" content="Introduction In the last post, we applied design techniques to refactor the test class and the underlying code design.
Read it here
In this final guide, we will look at how to refactor a page object in response to changes from the business.
When you finish reading, you will be able to create effective page objects for any UI interface you encounter using design principles.
Prerequisites Before you begin this guide you&rsquo;ll need the following:   Read Part Two"><meta property="og:type" content="article"><meta property="og:url" content="https://bongosway.github.io/posts/a-beginners-guide-to-designing-page-objects-pt.3/"><meta property="og:image" content="https://bongosway.github.io/"><meta property="article:published_time" content="2021-01-18T00:00:00+00:00"><meta property="article:modified_time" content="2021-01-18T00:00:00+00:00"><meta property="article:published_time" content="2021-01-18 00:00:00 +0000 UTC"></head><body class=dark-theme><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>$ cd /home/</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://bongosway.github.io/posts/>Posts</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41C32.4934 41 41 32.4934 41 22 41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>3 minutes
|
<i class="fas fa-user"></i>Edirin Atumah
| <i class="fas fa-calendar-alt"></i>Jan 18, 2021</p></div><article><h1 class=post-title><a href=https://bongosway.github.io/posts/a-beginners-guide-to-designing-page-objects-pt.3/>A Beginner&rsquo;s Guide to Designing Page Objects - Pt.3</a></h1><figure><img src=/images/po/done.png class=post-cover><figcaption><h5>Photo by Malte Luk from Pexels</h5></figcaption></figure><div class=post-content><h2 id=introduction>Introduction</h2><p>In the last post, we applied design techniques to refactor the test class and the underlying code design.</p><p>Read it <a href=/posts/a-beginners-guide-to-designing-page-objects-pt.2>here</a></p><p>In this final guide, we will look at how to refactor a page object in response to changes from the business.</p><p>When you finish reading, you will be able to create effective page objects for any UI interface you encounter using design principles.</p><h2 id=prerequisites>Prerequisites</h2><p>Before you begin this guide you&rsquo;ll need the following:<aside class="admonition note"><div class=tip-icon></div><div class=admonition-content><ul><li>Read <a href=/posts/a-beginners-guide-to-designing-page-objects-pt.2>Part Two</a></li></ul></div></aside></p><p>Let&rsquo;s do it ðŸ’ªðŸ’ªðŸ’ª</p><h2 id=the-current-test>The Current Test:</h2><p><img src=/images/po/pg3.png alt="test class"></p><h3 id=new-requirement>New Requirement:</h3><aside class="admonition note"><div class=tip-icon></div><div class=admonition-content><ul><li>Add test to search from the results page.</li></ul></div></aside><p>There are two Test cases now.</p><p>We should write them out again so it is clear</p><h4 id=testcase-1-user-can-start-search-from-home-page>Testcase 1: User can start search from Home page</h4><ul><li>Be on the Home page</li><li>Type <code>Selenium Java</code> in the searchbox</li><li>click the first suggestion from auto-suggest dropdown</li><li>Assert results are displayed on the search page.</li></ul><h4 id=testcase-2-user-can-start-search-from-results-page>Testcase 2: User can start search from results page</h4><ul><li>Be on the Search results page</li><li>Type <code>Selenium Java</code> in the searchbox</li><li>click the first suggestion from auto-suggest dropdown</li><li>Assert results are displayed on the search page.</li></ul><aside class="admonition note"><div class=tip-icon></div><div class=admonition-content><ul><li>Notice how similar this journey is to our existing test case.
The only difference is one starts from the home page, the other from results page!</li></ul></div></aside><h2 id=step-1--add-the-new-test-case>Step 1 â€” Add the new test case</h2><img src=/images/po/new-requirement.png class=left><h3 id=what-has-changed>What has changed?</h3><ul><li><p>We added two new methods <em><code>openHomePage()</code></em> & <em><code>openSearchPage()</code></em> to the search engine object, to make sure the test starts from the right page.</p></li><li><p>We changed the <em>test name</em>, <em>assertion</em> and the <em>message returned</em> on failure.</p></li><li><p>We removed all references to WebDriver from the test class.</p></li><li><p><strong>NOTHING ELSE!</strong> That&rsquo;s right. Nothing else needed to change in the test class, because we have written a resilient class.</p></li></ul><h2 id=step-2--lets-update-the-interface-with-the-2-new-methods>Step 2 â€” Let&rsquo;s update the interface with the 2 new methods</h2><img src=/images/po/new-interface.png class=left><h2 id=step-3---lets-implement-the-new-methods-in-the-googlesearchengine-class>Step 3 - Letâ€™s implement the new methods in the GoogleSearchEngine Class.</h2><img src=/images/po/new-implementation.png class=left><h2 id=step-4---lets-refactor-the-searchfor-method-in-the-googlesearchengine-class>Step 4 - Letâ€™s refactor the searchFor method in the GoogleSearchEngine Class.</h2><p>Looking at current implementation below:</p><img src=/images/po/pg4.png class=left><ul><li>We notice the method began from the <code>GoogleHomePage</code>, entered <code>SearchText</code> via the HomePage and <code>results</code> is also coming from the homepage.</li></ul><p>In a nutshell, the implementation of <code>searchFor()</code> couples it to the GoogleHomePage making it hard to cater for the new requirement.</p><h4 id=what-do-we-do>What do we do?</h4><h3 id=1-decouple-searchfor-implementation-from-googlehomepage>1. Decouple SearchFor implementation from GoogleHomePage</h3><ul><li><h4 id=find-the-common-element-between-homepage--result-page>Find the common element between Homepage & Result page</h4></li></ul><h4 id=_home-page_><em>Home Page</em></h4><img src=/images/po/hp-searchform.png class=left><h4 id=_results-page_><em>Results Page</em></h4><img src=/images/po/rp-searchform.png class=left><p>You will notice the <code>searchForm</code> is common across all Google Pages. Thus, making it a candidate to extract from the Homepage and move to its own class with the search behaviours.</p><h4 id=_searchform_><em>SearchForm</em></h4><img src=/images/po/new-searchform.png class=left><ul><li><h4 id=refactor-searchfor-to-use-the-searchform-in-the-googlesearchengine-class>Refactor searchFor() to use the searchForm in the GoogleSearchEngine class.</h4></li></ul><img src=/images/po/new-searchFor.png class=left><ul><li><h4 id=add-a-search-results-page-to-extract-results-into-domain-class-searchresults>Add a Search Results page to extract results into Domain class SearchResults.</h4></li><li>This page will extract the link & linkText values from the WebElement List</li></ul><img src=/images/po/sr-page.png class=left><ul><li>This populates the SearchResults domain object.</li></ul><img src=/images/po/search-results.png class=left><h3 id=now-are-back-to-the-where-we-started>Now are back to the where we started.</h3><p>The test class! But this time, we have refactored all the framework code.
The test should work perfectly.</p><img src=/images/po/new-requirement.png class=left><h2 id=what-have-we-done-so-far>What have we done so far?</h2><ul><li><p>Refactored the test class add new test case and remove framework code like <code>WebDriver</code>.</p></li><li><p>Refactored GoogleSearchEngine#searchFor method to not depend on GoogleHomePage</p></li><li><p>Added Navigation methods to the SearchEngine Interface.</p></li><li><p>Created SearchForm component to handle all search related task.</p></li><li><p>Created SearchResultPage to collect result.</p></li></ul><h2 id=conclusion>Conclusion</h2><p>This completes the three part Page Object series ðŸ¥³.</p><p>Now go forth and use the lessons from this article to build page objects for your projects.</p><h2 id=things-to-note>Things to Note</h2><p>For brevity the classes were edited to focus on the relevant details, but don&rsquo;t worry you can find the complete code in my Github repo.</p><p><a href=https://github.com/bongosway/selenium-starter>https://github.com/bongosway/selenium-starter</a></p><p>I am happy to answer questions you may have, reach me on any of my handles.</p></div><div class=center>&nbsp; <a href=https://twitter.com/bongosway target=_blank rel=noopener title=Twitter><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a>&nbsp;&nbsp; <a href=mailto:dumbdev@gmail.com target=_blank rel=noopener title=Email><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a>&nbsp;&nbsp; <a href=https://github.com/bongosway target=_blank rel=noopener title=Github><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a>&nbsp;&nbsp; <a href=https://linkedin.com/edirinatumah target=_blank rel=noopener title=Linkedin><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a>&nbsp;</div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://bongosway.github.io/tags/selenium-automation/>selenium, automation</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>610 Words</p></div><div class=pagination><div class=pagination__title><span class=pagination__title-h></span><hr></div><div class=pagination__buttons><span class="button next"><a href=https://bongosway.github.io/posts/my-2020-in-review-staying-strong/><span class=button__text>My 2020 In Review: Staying Strong</span>
<span class=button__icon>â†’</span></a></span></div></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>&copy; 2021</span>
<span><a href=https://bongosway.github.io/>Edirin Atumah</a></span>
<span><a href=https://bongosway.github.io/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div></footer></div><script type=text/javascript src=/bundle.min.dc716e9092c9820b77f96da294d0120aeeb189b5bcea9752309ebea27fd53bbe6b13cffb2aca8ecf32525647ceb7001f76091de4199ac5a3caa432c070247f5b.js integrity="sha512-3HFukJLJggt3+W2ilNASCu6xibW86pdSMJ6+on/VO75rE8/7KsqOzzJSVkfOtwAfdgkd5BmaxaPKpDLAcCR/Ww=="></script></body></html>